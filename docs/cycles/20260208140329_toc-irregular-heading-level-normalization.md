# ToCä¸æ­£è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«æ­£è¦åŒ–

**Cycle ID:** `20260208140329` **Started:** 2026-02-08 14:03:29 **Completed:**
2026-02-08 22:04:22 **Status:** ğŸŸ¢ Completed

---

## ğŸ“ What & Why

h1ã‹ã‚‰å§‹ã¾ã‚‰ãªã„ä¸æ­£ãªè¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«ï¼ˆh3â†’h3â†’h2ãªã©ï¼‰ã®Markdownã§ã‚‚ã€ToCãŒé•å’Œæ„Ÿãªãè¡¨ç¤ºã•ã‚Œã‚‹ã‚ˆã†ã«ã€è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«ã‚’æ­£è¦åŒ–ã™ã‚‹æ©Ÿèƒ½ã‚’å®Ÿè£…ã€‚**è¦ªæ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ **ã«ã‚ˆã‚Šã€1ãƒ¬ãƒ™ãƒ«ä¸Šã®è¦ªãŒå­˜åœ¨ã—ãªã„å ´åˆã¯h2ã«å¤‰æ›ã—ã€h1ãŒãªã„æ–‡æ›¸ã§ã¯è¦–è¦šçš„é•å’Œæ„Ÿï¼ˆç¸¦ç·šãƒ»ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆï¼‰ã‚’CSSã§è§£æ¶ˆã™ã‚‹ã€‚

## ğŸ¯ Goals

- h3ã‚„h2ã‹ã‚‰å§‹ã¾ã‚‹æ–‡æ›¸ã§ã‚‚è‡ªç„¶ãªToCè¡¨ç¤º âœ…
- è¦ªãŒã„ãªã„å­è¦ç´ ã‚’æ¤œå‡ºã—ã€h2ã«å¤‰æ› âœ…
- è¦ªãŒã„ã‚‹å­è¦ç´ ï¼ˆh2ã®ä¸‹ã®h3ãªã©ï¼‰ã¯ãã®ã¾ã¾ä¿æŒ âœ…
- æ—¢å­˜ã®æ­£å¸¸ãªæ–‡æ›¸ï¼ˆh1ã‹ã‚‰å§‹ã¾ã‚‹ï¼‰ã«ã¯å½±éŸ¿ãªã— âœ…
- h1ãŒãªã„æ–‡æ›¸ã§ã¯ç¸¦ç·šãƒ»ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’éè¡¨ç¤ºï¼ˆCSSå¯¾å¿œï¼‰ âœ…
- ãƒ„ãƒªãƒ¼æ§‹é€ ãŒå´©ã‚Œãªã„å …ç‰¢ãªå®Ÿè£… âœ…

## ğŸ“ Design

### Architecture

```
services/toc-service.ts
  â†“
domain/toc/
  extractor.ts          # extractHeadingsï¼ˆå¤‰æ›´ãªã—ï¼‰
  normalizer.ts         # NEW - è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«æ­£è¦åŒ–ãƒ­ã‚¸ãƒƒã‚¯
  normalizer.test.ts    # NEW - æ­£è¦åŒ–ãƒ†ã‚¹ãƒˆ
  tree-builder.ts       # REFACTOR - buildTocTreeï¼ˆæ­£è¦åŒ–å¾Œã®ãƒ¬ãƒ™ãƒ«ã§æ§‹ç¯‰ï¼‰
  tree-builder.test.ts  # MODIFY - ãƒ„ãƒªãƒ¼æ§‹ç¯‰ãƒ†ã‚¹ãƒˆï¼ˆæ­£è¦åŒ–ã‚±ãƒ¼ã‚¹è¿½åŠ ï¼‰
  types.ts              # MODIFY - NormalizedHeadingå‹è¿½åŠ 
```

### Files to Change

```
src/
  domain/
    toc/
      normalizer.ts                 # NEW - ãƒ¬ãƒ™ãƒ«æ­£è¦åŒ–ãƒ­ã‚¸ãƒƒã‚¯
      normalizer.test.ts            # NEW - æ­£è¦åŒ–ãƒ†ã‚¹ãƒˆï¼ˆh3é–‹å§‹ã€h2é–‹å§‹ç­‰ï¼‰
      tree-builder.ts               # REFACTOR - extractor.tsã‹ã‚‰åˆ†é›¢ã€æ­£è¦åŒ–å¯¾å¿œ
      tree-builder.test.ts          # NEW - ãƒ„ãƒªãƒ¼æ§‹ç¯‰ãƒ†ã‚¹ãƒˆ
      extractor.ts                  # MODIFY - buildTocTreeã‚’tree-builder.tsã«ç§»å‹•
      extractor.test.ts             # MODIFY - ãƒ†ã‚¹ãƒˆåˆ†å‰²ï¼ˆextractHeadingsã®ã¿ï¼‰
      types.ts                      # MODIFY - NormalizedHeadingå‹è¿½åŠ 

  services/
    toc-service.ts                  # MODIFY - normalizeHeadingsçµ±åˆ
    toc-service.test.ts             # MODIFY - æ­£è¦åŒ–çµ±åˆãƒ†ã‚¹ãƒˆè¿½åŠ 
```

### Key Points

- **æ­£è¦åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ **: è¦ªæ¤œå‡ºæ–¹å¼ -
  1ãƒ¬ãƒ™ãƒ«ä¸Šã®è¦ªãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯ã€è¦ªãªã—ã¯ h2 ã«å¤‰æ›
- **è¦ªã®å®šç¾©**: h1ã¯è¦ªä¸è¦ã€h2ã¯h1ãŒå¿…è¦ã€h3ã¯h2ãŒå¿…è¦
- **CSSå¯¾å¿œ**:
  h1ãŒãªã„æ–‡æ›¸ã§ã¯ç¸¦ç·šï¼ˆ`::before`ï¼‰ã¨ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆï¼ˆ`padding-left`ï¼‰ã‚’éè¡¨ç¤ºï¼ˆ`:not(:has(> .toc-level-1))`ï¼‰
- **åˆ†é›¢ãƒ»è²¬å‹™**:
  normalizer.tsï¼ˆæ­£è¦åŒ–ï¼‰ã€tree-builder.tsï¼ˆãƒ„ãƒªãƒ¼æ§‹ç¯‰ï¼‰ã€toc.cssï¼ˆãƒ—ãƒ¬ã‚¼ãƒ³ãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ï¼‰
- **å¾Œæ–¹äº’æ›æ€§**: h1ã‹ã‚‰å§‹ã¾ã‚‹æ­£å¸¸ãªæ–‡æ›¸ã¯æ­£è¦åŒ–ã®å½±éŸ¿ãªã—
- **ãƒ†ã‚¹ãƒˆé§†å‹•**: REDâ†’GREENâ†’REFACTOR ã§å®Ÿè£…ï¼ˆå…¨163ãƒ†ã‚¹ãƒˆé€šéï¼‰

### Implementation Strategy (Completed)

1. **Phase 1: normalizer.tså®Ÿè£…ï¼ˆTDDï¼‰** âœ…
   - `normalizeHeadingLevels(headings: TocHeading[]): TocHeading[]`
   - è¦ªæ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ å®Ÿè£…: `hasImmediateParent(level, index)`
     é–¢æ•°ã§1ãƒ¬ãƒ™ãƒ«ä¸Šã®è¦ªãƒã‚§ãƒƒã‚¯
   - ãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹:
     h1é–‹å§‹ã€dig.mdã‚±ãƒ¼ã‚¹ï¼ˆh3â†’h3â†’h2ï¼‰ã€h1+h3ï¼ˆh2æ¬ ã‘ï¼‰ã€h2â†’h3â†’h2ã€ç©ºé…åˆ—ã€h2é–‹å§‹ã€å˜ä¸€h3ã€text/idä¿æŒ
   - å…¨8ãƒ†ã‚¹ãƒˆè¿½åŠ ãƒ»é€šé

2. **Phase 2: tree-builder.tsåˆ†é›¢ï¼ˆRefactorï¼‰** âœ…
   - extractor.tsã‹ã‚‰`buildTocTree`ã‚’åˆ†é›¢æ¸ˆã¿ï¼ˆå‰ã‚»ãƒƒã‚·ãƒ§ãƒ³ã§å®Œäº†ï¼‰
   - tree-builder.tsã«é…ç½®æ¸ˆã¿
   - æ—¢å­˜ãƒ†ã‚¹ãƒˆå…¨é€šéç¢ºèªæ¸ˆã¿

3. **Phase 3: servicesçµ±åˆ** âœ…
   - toc-service.tsã§æ­£è¦åŒ–ã‚’çµ±åˆæ¸ˆã¿
   - `extractHeadings â†’ normalizeHeadings â†’ buildTocTree` ã®æµã‚Œå®Ÿè£…æ¸ˆã¿
   - çµ±åˆãƒ†ã‚¹ãƒˆå…¨é€šéï¼ˆå…¨163ãƒ†ã‚¹ãƒˆï¼‰

4. **Phase 4: ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ›¸ãæ›ãˆï¼ˆdig.mdã‚±ãƒ¼ã‚¹å¯¾å¿œï¼‰** âœ…
   - æœ€å°ãƒ¬ãƒ™ãƒ«æ­£è¦åŒ– â†’ è¦ªæ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å®Œå…¨æ›¸ãæ›ãˆ
   - dig.mdã‚±ãƒ¼ã‚¹ï¼ˆh3â†’h3â†’h2ï¼‰ã§è¦–è¦šçš„é•å’Œæ„ŸãŒç™ºç”Ÿã—ãŸãŸã‚æ–¹é‡å¤‰æ›´
   - normalizer.tså®Œå…¨æ›¸ãæ›ãˆã€normalizer.test.tså…¨ãƒ†ã‚¹ãƒˆæ›´æ–°

5. **Phase 5: CSSä¿®æ­£ï¼ˆè¦–è¦šçš„é•å’Œæ„Ÿè§£æ¶ˆï¼‰** âœ…
   - h1ãŒãªã„æ–‡æ›¸ã§ç¸¦ç·šã¨ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚’éè¡¨ç¤ºã«ã™ã‚‹CSSãƒ«ãƒ¼ãƒ«è¿½åŠ 
   - `:not(:has(> .toc-level-1))` ã‚»ãƒ¬ã‚¯ã‚¿ã§ h1 ã®æœ‰ç„¡ã‚’æ¤œå‡º
   - toc.cssã«3ã¤ã®ãƒ«ãƒ¼ãƒ«è¿½åŠ ï¼ˆç¸¦ç·šéè¡¨ç¤ºã€h2/h3ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆå‰Šé™¤ï¼‰

## âœ… Tests (All Passed - 163 total)

### domain/toc/normalizer.test.ts âœ…

- [x] h1ã‹ã‚‰å§‹ã¾ã‚‹æ­£å¸¸ãªæ–‡æ›¸: æ­£è¦åŒ–ãªã—ï¼ˆè¦ªã‚ã‚Šè¦ç´ ã¯ä¿æŒï¼‰
- [x] dig.mdã‚±ãƒ¼ã‚¹ï¼ˆh3â†’h3â†’h2ï¼‰: å…¨ã¦è¦ªãªã— â†’ å…¨ã¦h2ã«å¤‰æ›
- [x] h1+h3ï¼ˆh2æ¬ ã‘ï¼‰: h3ã¯è¦ª(h2)ãªã— â†’ h2ã«å¤‰æ›
- [x] h2â†’h3â†’h2: h3ã¯è¦ª(h2=A)ã‚ã‚Š â†’ h3ã®ã¾ã¾ä¿æŒ
- [x] ç©ºé…åˆ—: ç©ºé…åˆ—ã‚’è¿”ã™
- [x] h2ã‹ã‚‰å§‹ã¾ã‚‹æ–‡æ›¸: h2ãã®ã¾ã¾ã€h3ã¯è¦ªã‚ã‚Šã§ä¿æŒ
- [x] å˜ä¸€è¦‹å‡ºã—ï¼ˆh3ã®ã¿ï¼‰: h2ã«å¤‰æ›
- [x] id/textä¿æŒ: ãƒ¬ãƒ™ãƒ«ã¯å¤‰ã‚ã‚‹ãŒid/textã¯ä¿æŒã•ã‚Œã‚‹

### domain/toc/tree-builder.test.ts âœ…

- [x] æ­£è¦åŒ–å¾Œã®ãƒ¬ãƒ™ãƒ«ã§ãƒ„ãƒªãƒ¼æ§‹ç¯‰
- [x] ãƒ«ãƒ¼ãƒˆè¦ç´ ãŒæ­£ã—ãé…ç½®ã•ã‚Œã‚‹
- [x] è¦ªå­é–¢ä¿‚ãŒæ­£ã—ãæ§‹ç¯‰ã•ã‚Œã‚‹
- [x] ç©ºé…åˆ—: ç©ºãƒ„ãƒªãƒ¼ã‚’è¿”ã™

### services/toc-service.test.ts âœ…

- [x] æ­£è¦åŒ–çµ±åˆãƒ†ã‚¹ãƒˆ: è¦ªãªã—è¦ç´ ã®æ¤œå‡ºã¨h2å¤‰æ›
- [x] æ—¢å­˜ã®æ­£å¸¸æ–‡æ›¸: å½±éŸ¿ãªã—ï¼ˆæ—¢å­˜ãƒ†ã‚¹ãƒˆé€šéï¼‰

### UI/CSS âœ…

- [x] h1ãŒãªã„æ–‡æ›¸ã§ç¸¦ç·šéè¡¨ç¤ºï¼ˆtoc.cssï¼‰
- [x] h1ãŒãªã„æ–‡æ›¸ã§ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆå‰Šé™¤ï¼ˆtoc.cssï¼‰
- [x] å…¨6ãƒ†ãƒ¼ãƒã§æ­£å¸¸è¡¨ç¤ºç¢ºèª

## ğŸ”’ Security âœ…

- [x] å…¥åŠ›æ¤œè¨¼: headingsãŒç©ºã§ã‚‚ã‚¯ãƒ©ãƒƒã‚·ãƒ¥ã—ãªã„
- [x] ç„¡é™ãƒ«ãƒ¼ãƒ—é˜²æ­¢: æ­£è¦åŒ–ãƒ­ã‚¸ãƒƒã‚¯ãŒç¢ºå®Ÿã«çµ‚äº†ã™ã‚‹ï¼ˆO(n)ã®ç·šå½¢å‡¦ç†ï¼‰

## ğŸ“Š Progress

| Step                            | Status | Note                                                                               |
| ------------------------------- | ------ | ---------------------------------------------------------------------------------- |
| normalizer.tså®Ÿè£…ï¼ˆTDDï¼‰        | ğŸŸ¢     | REDâ†’GREENâ†’REFACTORå®Œäº†ï¼ˆæœ€å°ãƒ¬ãƒ™ãƒ«æ­£è¦åŒ–ï¼‰                                         |
| tree-builder.tsåˆ†é›¢ï¼ˆRefactorï¼‰ | ğŸŸ¢     | æ—¢å­˜ãƒ†ã‚¹ãƒˆé€šéç¢ºèªæ¸ˆã¿                                                             |
| servicesçµ±åˆ                    | ğŸŸ¢     | toc-service.tsä¿®æ­£å®Œäº†                                                             |
| Commit 1                        | ğŸŸ¢     | `[b3ed3fc]` feat: ToCä¸æ­£è¦‹å‡ºã—ãƒ¬ãƒ™ãƒ«æ­£è¦åŒ–æ©Ÿèƒ½ã‚’å®Ÿè£…                              |
| dig.mdã‚±ãƒ¼ã‚¹è¦–è¦šçš„é•å’Œæ„Ÿç™ºè¦‹    | ğŸŸ¢     | h3â†’h3â†’h2ã§ç¸¦ç·šãŒè¦ªãªã—å­è¦ç´ ã‚’ç¤ºå”†                                                 |
| ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ æ›¸ãæ›ãˆ            | ğŸŸ¢     | æœ€å°ãƒ¬ãƒ™ãƒ«æ­£è¦åŒ– â†’ è¦ªæ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã«å®Œå…¨æ›¸ãæ›ãˆ                                |
| normalizer.test.tsæ›´æ–°          | ğŸŸ¢     | å…¨8ãƒ†ã‚¹ãƒˆæ›´æ–°ãƒ»é€šéï¼ˆè¦ªæ¤œå‡ºãƒ­ã‚¸ãƒƒã‚¯å¯¾å¿œï¼‰                                          |
| CSSä¿®æ­£                         | ğŸŸ¢     | h1ãªã—æ–‡æ›¸ã§ç¸¦ç·šãƒ»ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆéè¡¨ç¤ºï¼ˆtoc.cssï¼‰                                      |
| ãƒ†ã‚¹ãƒˆå…¨é€šéç¢ºèª                | ğŸŸ¢     | å…¨163ãƒ†ã‚¹ãƒˆé€šé                                                                    |
| Commit 2                        | ğŸŸ¢     | `[0159b3f]` fix: ToCç”Ÿæˆæ™‚ã«Frontmatteré™¤å¤–æ¸ˆã¿contentã‚’ä½¿ç”¨                       |
| Commit 3                        | ğŸŸ¢     | `[38468ee]` feat: ToCè¦ªæ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ã¨CSSä¿®æ­£ï¼ˆh1ãªã—æ–‡æ›¸ã®è¦–è¦šçš„é•å’Œæ„Ÿã‚’è§£æ¶ˆï¼‰ |

**Legend:** âšª Pending Â· ğŸŸ¡ In Progress Â· ğŸŸ¢ Done

---

## ğŸ’¡ Design Notes

### æ­£è¦åŒ–ã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼ˆè¦ªæ¤œå‡ºæ–¹å¼ï¼‰

```typescript
// normalizer.ts
export function normalizeHeadingLevels(headings: TocHeading[]): TocHeading[] {
  if (headings.length === 0) return [];

  /**
   * æŒ‡å®šã•ã‚ŒãŸã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®è¦‹å‡ºã—ã«ã€Œ1ãƒ¬ãƒ™ãƒ«ä¸Šã®è¦ªã€ãŒå­˜åœ¨ã™ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
   */
  const hasImmediateParent = (level: number, index: number): boolean => {
    // h1 ã¯è¦ªä¸è¦
    if (level === 1) {
      return true;
    }

    // 1ãƒ¬ãƒ™ãƒ«ä¸Šã®è¦ªãƒ¬ãƒ™ãƒ«
    const parentLevel = level - 1;

    // ãã‚Œã‚ˆã‚Šå‰ã« parentLevel ãŒå­˜åœ¨ã™ã‚‹ã‹ï¼Ÿ
    for (let i = 0; i < index; i++) {
      if (headings[i].level === parentLevel) {
        return true;
      }
    }

    return false;
  };

  // è¦ªãŒã„ãªã„å ´åˆã¯ h2 ã«å¤‰æ›
  return headings.map((h, i) => {
    if (!hasImmediateParent(h.level, i)) {
      return { ...h, level: 2 as 1 | 2 | 3 };
    }
    return h;
  });
}
```

### CSSå¯¾å¿œï¼ˆh1ãªã—æ–‡æ›¸ã®è¦–è¦šçš„é•å’Œæ„Ÿè§£æ¶ˆï¼‰

```css
/* h1ãŒãªã„å ´åˆã¯ç¸¦ç·šã‚’éè¡¨ç¤ºï¼ˆè¦ªãªã—å­è¦ç´ ã®é•å’Œæ„Ÿã‚’è§£æ¶ˆï¼‰ */
.toc-list:not(:has(> .toc-level-1)) .toc-level-2::before,
.toc-list:not(:has(> .toc-level-1)) .toc-level-3::before {
  display: none;
}

/* h1ãŒãªã„å ´åˆã¯ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆã‚‚å‰Šé™¤ï¼ˆå…¨ã¦ãƒ•ãƒ©ãƒƒãƒˆè¡¨ç¤ºï¼‰ */
.toc-list:not(:has(> .toc-level-1)) .toc-level-2 {
  padding-left: 0;
}

.toc-list:not(:has(> .toc-level-1)) .toc-level-3 {
  padding-left: 0;
}
```

### å…·ä½“ä¾‹ï¼ˆè¦ªæ¤œå‡ºã‚¢ãƒ«ã‚´ãƒªã‚ºãƒ ï¼‰

#### ã‚±ãƒ¼ã‚¹1: dig.mdã‚±ãƒ¼ã‚¹ï¼ˆh3â†’h3â†’h2ï¼‰

**å…¥åŠ›:**

```
h3: Phase 2
h3: Phase 3
h2: Decisions
```

**æ­£è¦åŒ–å¾Œï¼ˆè¦ªæ¤œå‡ºï¼‰:**

```
h2: Phase 2    (h3 â†’ h2) â† è¦ª(h2)ã„ãªã„
h2: Phase 3    (h3 â†’ h2) â† è¦ª(h2)ã„ãªã„
h2: Decisions  (h2 â†’ h2) â† è¦ª(h1)ã„ãªã„ã€ãã®ã¾ã¾
```

**ãƒ„ãƒªãƒ¼è¡¨ç¤ºï¼ˆãƒ•ãƒ©ãƒƒãƒˆã€ç¸¦ç·šãªã—ï¼‰:**

```
Phase 2
Phase 3
Decisions
```

#### ã‚±ãƒ¼ã‚¹2: h2ã‹ã‚‰å§‹ã¾ã‚‹ï¼ˆè¦ªã‚ã‚Šå­ã‚ã‚Šæ··åœ¨ï¼‰

**å…¥åŠ›:**

```
h2: Introduction
h3: Overview
h3: Features
h2: Setup
```

**æ­£è¦åŒ–å¾Œï¼ˆè¦ªæ¤œå‡ºï¼‰:**

```
h2: Introduction  (h2 â†’ h2) â† è¦ª(h1)ã„ãªã„ã€ãã®ã¾ã¾
h3: Overview      (h3 â†’ h3) â† è¦ª(h2=Introduction)ã‚ã‚Šã€ä¿æŒ
h3: Features      (h3 â†’ h3) â† è¦ª(h2=Introduction)ã‚ã‚Šã€ä¿æŒ
h2: Setup         (h2 â†’ h2) â† è¦ª(h1)ã„ãªã„ã€ãã®ã¾ã¾
```

**ãƒ„ãƒªãƒ¼è¡¨ç¤ºï¼ˆç¸¦ç·šãªã—ã€è¦ªã‚ã‚Šh3ã¯éšå±¤è¡¨ç¤ºï¼‰:**

```
Introduction
  Overview
  Features
Setup
```

#### ã‚±ãƒ¼ã‚¹3: h1ã‹ã‚‰å§‹ã¾ã‚‹ï¼ˆæ­£å¸¸ï¼‰

**å…¥åŠ›:**

```
h1: Title
h2: Section 1
h3: Sub 1.1
```

**æ­£è¦åŒ–å¾Œï¼ˆè¦ªæ¤œå‡ºï¼‰:**

```
h1: Title       (h1 â†’ h1) â† è¦ªä¸è¦ã€ãã®ã¾ã¾
h2: Section 1   (h2 â†’ h2) â† è¦ª(h1=Title)ã‚ã‚Šã€ä¿æŒ
h3: Sub 1.1     (h3 â†’ h3) â† è¦ª(h2=Section 1)ã‚ã‚Šã€ä¿æŒ
```

**ãƒ„ãƒªãƒ¼è¡¨ç¤ºï¼ˆé€šå¸¸ã€ç¸¦ç·šã‚ã‚Šï¼‰:**

```
Title
â””â”€ Section 1
   â””â”€ Sub 1.1
```

#### ã‚±ãƒ¼ã‚¹4: h1+h3ï¼ˆh2æ¬ ã‘ï¼‰

**å…¥åŠ›:**

```
h1: Title
h3: Detail A
h3: Detail B
```

**æ­£è¦åŒ–å¾Œï¼ˆè¦ªæ¤œå‡ºï¼‰:**

```
h1: Title      (h1 â†’ h1) â† è¦ªä¸è¦ã€ãã®ã¾ã¾
h2: Detail A   (h3 â†’ h2) â† è¦ª(h2)ã„ãªã„
h2: Detail B   (h3 â†’ h2) â† è¦ª(h2)ã„ãªã„
```

**ãƒ„ãƒªãƒ¼è¡¨ç¤º:**

```
Title
  Detail A
  Detail B
```

---

**Next:** Write tests â†’ Implement â†’ Commit with `smart-commit` ğŸš€
